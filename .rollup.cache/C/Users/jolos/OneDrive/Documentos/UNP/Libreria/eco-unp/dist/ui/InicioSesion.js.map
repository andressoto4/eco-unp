{"version":3,"file":"InicioSesion.js","sourceRoot":"","sources":["../../ui/InicioSesion.tsx"],"names":[],"mappings":"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","sourcesContent":["// Importación de React y otros módulos necesarios\r\nimport React, { useEffect } from \"react\";\r\nimport {\r\n  FaFacebook,\r\n  FaInstagram,\r\n  FaXTwitter,\r\n  FaYoutube,\r\n  FaPhoneFlip,\r\n  FaHeadphones,\r\n  FaFileContract,\r\n  FaKey,\r\n} from \"react-icons/fa6\";\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\nimport { Row, Col, Container, Button } from \"react-bootstrap\";\r\n\r\n// Importaciones de componentes propios\r\nimport { IngresoProvider } from \"./providers/IngresoProvider\";\r\nimport { InicioSesionHook } from \"./hooks/InicioSesionHook\";\r\nimport { LogosUnp } from \"./components/Logos\";\r\nimport { Recaptcha } from \"./components/Recaptcha\";\r\nimport { Usuario, Contrasegna, RedesSociales } from \"./components/Login\";\r\n\r\n// Importación de archivos de estilos CSS\r\nimport \"./styles/Bootstrap.css\";\r\nimport \"./styles/InicioSesionStyles.css\";\r\n\r\nimport { useAuth } from \"./providers/AutenticacionProvider\";\r\n\r\n// Definición de tipos para las propiedades del formulario de ingreso\r\ninterface FormIngresoProps {\r\n  children?: React.ReactNode; // Propiedad opcional que permite pasar nodos React como hijos\r\n}\r\n\r\n// Definición del componente funcional Login que acepta las propiedades definidas en FormIngresoProps\r\nconst Login: React.FC<FormIngresoProps> = (props) => {\r\n  // Referencias para usuario, contraseña y reCAPTCHA\r\n  const usuarioRef = React.useRef<HTMLInputElement>(null);\r\n  const contrasegnaRef = React.useRef<HTMLInputElement>(null);\r\n  const recaptchaRef = React.useRef<ReCAPTCHA>(null);\r\n\r\n  const maxAttempts = 3; // Número máximo de intentos permitidos\r\n  const blockTime = 10; // Tiempo de bloqueo en segundos\r\n\r\n  // Uso del hook personalizado InicioSesionHook para manejar el estado del formulario de inicio de sesión\r\n  const {\r\n    recaptchaToken,\r\n    validated,\r\n    attempts,\r\n    isBlocked,\r\n    timer,\r\n    handleRecaptchaChange,\r\n    handleSubmit,\r\n  } = InicioSesionHook(maxAttempts, blockTime);\r\n\r\n  // ------ > Renderizado\r\n  return (\r\n    // Div que permite al login a ubicarse en el centro\r\n    <div className=\"login-container\">\r\n      {/* Contenedor principal con sombra y ancho máximo de 720px */}\r\n      <Container style={{ maxWidth: \"720px\", maxHeight: \"600px\" }}>\r\n        {/* Fila para la presentación y los inputs de inicio de sesión */}\r\n        <Row className=\"justify-content-md-center border-0 rounded shadow\">\r\n          {/* Columna izquierda con fondo de formulario y borde redondeado */}\r\n          <Col\r\n            md={6}\r\n            className=\"bg-form align-content-center px-5 rounded-start\"\r\n          >\r\n            <Row className=\"justify-content-md-center\">\r\n              <h2 className=\"text-center text-white\">\r\n                Ecosistema de Información\r\n              </h2>\r\n              <hr className=\"text-light\"></hr>\r\n              <LogosUnp\r\n                src={\r\n                  \"https://live.staticflickr.com/65535/54064468237_fb5a3edea2_z.jpg\"\r\n                }\r\n                size={\"7em\"}\r\n                alt={\"Escudo Institucional Logos\"}\r\n                height={\"106px\"}\r\n              />\r\n              <p\r\n                className=\"text-center mt-4\"\r\n                style={{ color: \"#BFBFBF\", fontWeight: \"500\" }}\r\n              >\r\n                Integrar la gestión, potencializar los resultados\r\n              </p>\r\n            </Row>\r\n          </Col>\r\n\r\n          {/* Columna derecha con fondo blanco y borde redondeado */}\r\n          <Col md={6} className=\"pt-4 pb-3 rounded-end bg-white\">\r\n            {/* Fila que contiene logos e imágenes institucionales */}\r\n            <Row className=\"justify-content-md-center text-center\">\r\n              <LogosUnp\r\n                size={\"9em\"}\r\n                src={\r\n                  \"https://live.staticflickr.com/65535/54065780355_d6580531a4_q.jpg\"\r\n                }\r\n                alt={\"Escudo Institucional UNP\"}\r\n                height={\"120px\"}\r\n              />\r\n              <h4 className=\"mt-2\">Inicio de sesión</h4>\r\n            </Row>\r\n\r\n            {/* Formulario de inicio de sesión */}\r\n            <Row className=\"justify-content-md-center mx-0\">\r\n              <form\r\n                method=\"POST\"\r\n                noValidate\r\n                className={validated ? \"was-validated\" : \"\"}\r\n                onSubmit={(e) =>\r\n                  handleSubmit(e, usuarioRef, contrasegnaRef, recaptchaRef)\r\n                }\r\n              >\r\n                {/* Campos de usuario y contraseña */}\r\n                <Col xl={12} md={12} xs={12} className=\"justify-content-center\">\r\n                  <Usuario usuarioRef={usuarioRef} />\r\n                  <Contrasegna contrasegnaRef={contrasegnaRef} />\r\n                </Col>\r\n\r\n                {/* Botón de enviar */}\r\n                <Col xl={12} md={12} xs={12} className=\"d-grid gap-2\">\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    disabled={isBlocked}\r\n                    type=\"submit\"\r\n                  >\r\n                    {isBlocked ? `Espera ${timer} segundos` : \"Ingresar\"}\r\n                  </Button>\r\n                </Col>\r\n\r\n                {/* reCAPTCHA  */}\r\n                <Recaptcha\r\n                  onChange={handleRecaptchaChange}\r\n                  sitekey=\"6LeC9F0qAAAAAJrKsyU-wpvYmDquDcAoqhH_oASk\"\r\n                />\r\n              </form>\r\n            </Row>\r\n\r\n            {/* Mensaje de error */}\r\n            {/* {error && (\r\n              <Alert className=\"mt-3\" key={\"danger\"} variant={\"danger\"}>\r\n                <MdError /> {error}\r\n              </Alert>\r\n            )} */}\r\n          </Col>\r\n        </Row>\r\n\r\n        {/* Fila para incluir las redes sociales de la entidad y la política de datos */}\r\n        <Row className=\"mt-2 d-flex justify-content-beetween\">\r\n          {/* Columna para los iconos botones de redes sociales */}\r\n          <Col className=\"ms-0 d-flex justify-content-start\">\r\n            <RedesSociales\r\n              IconoRedSocial={FaXTwitter}\r\n              color=\"#000\"\r\n              descripcion=\"@UNPColombia\"\r\n              enlace=\"https://x.com/UNPColombia\"\r\n            />\r\n            <RedesSociales\r\n              IconoRedSocial={FaInstagram}\r\n              color=\"#F00075\"\r\n              descripcion=\"@unpcolombia\"\r\n              enlace=\"https://www.instagram.com/unpcolombia\"\r\n            />\r\n            <RedesSociales\r\n              IconoRedSocial={FaFacebook}\r\n              color=\"#1778F2\"\r\n              descripcion=\"@UNPColombia\"\r\n              enlace=\"https://www.facebook.com/UNPColombia\"\r\n            />\r\n            <RedesSociales\r\n              IconoRedSocial={FaYoutube}\r\n              color=\"#FF0000\"\r\n              descripcion=\"@unpcolombia\"\r\n              enlace=\"https://www.youtube.com/channel/UCUiRLOI-MUqa7ATG-mJwY1w\"\r\n            />\r\n            <RedesSociales\r\n              IconoRedSocial={FaHeadphones}\r\n              color=\"#1CCFF9\"\r\n              descripcion=\"UNPRadio\"\r\n              enlace=\"https://unpradio.unp.gov.co\"\r\n            />\r\n            <RedesSociales\r\n              IconoRedSocial={FaPhoneFlip}\r\n              color=\"#D32929\"\r\n              descripcion=\"Línea Vida 103\"\r\n              enlace=\"https://www.unp.gov.co/atencion-y-servicios-a-la-ciudadania/directorio/linea-vida-103\"\r\n            />\r\n          </Col>\r\n\r\n          {/* Enlace a la política de seguridad de la información y protección de datos personales */}\r\n          <Col className=\"me-0 d-flex justify-content-end align-items-center\">\r\n            <RedesSociales\r\n              IconoRedSocial={FaFileContract}\r\n              color=\"#365072\"\r\n              descripcion=\"Políticas de datos\"\r\n              enlace=\"https://www.unp.gov.co/normativa/politicas-de-seguridad-de-la-informacion-y-proteccion-de-datos-personales/\"\r\n            />\r\n            <RedesSociales\r\n              IconoRedSocial={FaKey}\r\n              color=\"#365072\"\r\n              descripcion=\"Recuperar contraseña\"\r\n              enlace=\"#\"\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n\r\n      <br />\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Definición del componente funcional IniciarSesion\r\nconst IniciarSesion: React.FC = () => {\r\n  const { token } = useAuth();\r\n\r\n  const isAuthenticated: boolean = Boolean(token);\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      console.log(\"ingreso\");\r\n    }\r\n  }, [isAuthenticated]);\r\n  // -----> Renderizado\r\n  return (\r\n    <>\r\n      {/*Se valida si existe un token en localstorage para autenticacion*/}\r\n      {isAuthenticated ? (\r\n        // Se redirige o se muestra la vista cuando el usuario ya esta logeado y tiene su token\r\n        <div></div>\r\n      ) : (\r\n        // El componente IngresoProvider envuelve al componente Login\r\n        <IngresoProvider>\r\n          <Login />\r\n        </IngresoProvider>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n// Exporta el componente IniciarSesion para su uso en otros archivos\r\nexport default IniciarSesion;\r\n"]}